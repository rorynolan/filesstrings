
R version 3.5.3 (2019-03-11) -- "Great Truth"
Copyright (C) 2019 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin15.6.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(ijtiff)
> 
> test_check("ijtiff")
[31mâ”€â”€[39m [31m1. Error: `as_EBImage()` works (@test-as_EBImage-examples.R#5) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: read_tif(system.file("img", "Rlogo.tif", package = "ijtiff")) at testthat/test-as_EBImage-examples.R:5
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m2. Error: `count_imgs()` works (@test-count_imgs-examples.R#4) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: expect_equal(count_imgs(system.file("img", "Rlogo.tif", package = "ijtiff")), 1) at testthat/test-count_imgs-examples.R:4
2: quasi_label(enquo(object), label, arg = "object")
3: eval_bare(get_expr(quo), get_env(quo))
4: count_imgs(system.file("img", "Rlogo.tif", package = "ijtiff"))
5: setwd(filesstrings::str_before_last(path, "/"))
6: filesstrings::str_before_last(path, "/")
7: str_before_nth(strings = strings, pattern = pattern, n = -1)
8: str_nth_instance_indices(strings, pattern, n)
9: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
10: eval(lhs, parent, parent)
11: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m3. Error: `read_tags()` works (@test-read_tags-examples.R#5) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: read_tags(path) at testthat/test-read_tags-examples.R:5
2: setwd(filesstrings::str_before_last(path, "/"))
3: filesstrings::str_before_last(path, "/")
4: str_before_nth(strings = strings, pattern = pattern, n = -1)
5: str_nth_instance_indices(strings, pattern, n)
6: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
7: eval(lhs, parent, parent)
8: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m4. Error: display works (@test_graphics.R#4) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: read_tif(system.file("img", "Rlogo.tif", package = "ijtiff")) at testthat/test_graphics.R:4
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m5. Error: Package 2-channel example I/O works (@test_io.R#4) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: read_tif(system.file("img", "2ch_ij.tif", package = "ijtiff")) at testthat/test_io.R:4
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m6. Error: Package RGB I/O works (@test_io.R#35) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: read_tif(system.file("img", "Rlogo.tif", package = "ijtiff")) at testthat/test_io.R:35
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m7. Error: 8-bit unsigned integer TIFF I/O works (@test_io.R#46) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: write_tif(a2345, tmptif) at testthat/test_io.R:46
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m8. Error: 16-bit unsigned integer TIFF I/O works (@test_io.R#59) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: write_tif(a6789, tmptif) at testthat/test_io.R:59
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m9. Error: 32-bit unsigned integer TIFF I/O works (@test_io.R#72) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: write_tif(a1m, tmptif) at testthat/test_io.R:72
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m10. Error: Float (real-numbered) TIFF I/O works (@test_io.R#88) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: write_tif(a2345, paste0(tmptif, "f")) at testthat/test_io.R:88
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m11. Error: Negative-numbered TIFF I/O works (@test_io.R#110) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: write_tif(a2345, tmptif) at testthat/test_io.R:110
2: filesstrings::str_before_last(path, "/")
3: str_before_nth(strings = strings, pattern = pattern, n = -1)
4: str_nth_instance_indices(strings, pattern, n)
5: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
6: eval(lhs, parent, parent)
7: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m12. Failure: List returning works (@test_io.R#126) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
`read_tif(tmptif)` threw an error with unexpected message.
Expected match: "tried to return a list"
Actual message: "could not find function \"intmat_list_bind_nth_rows\""

[31mâ”€â”€[39m [31m13. Error: List returning works (@test_io.R#127) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: expect_warning(read_tif(tmptif, list_safety = "warn"), "returning a list") at testthat/test_io.R:127
2: quasi_capture(enquo(object), label, capture_warnings)
3: .capture(act$val <- eval_bare(get_expr(.quo), get_env(.quo)), ...)
4: withCallingHandlers(code, warning = function(condition) {
       out$push(condition)
       invokeRestart("muffleWarning")
   })
5: eval_bare(get_expr(.quo), get_env(.quo))
6: read_tif(tmptif, list_safety = "warn")
7: filesstrings::str_before_last(path, "/")
8: str_before_nth(strings = strings, pattern = pattern, n = -1)
9: str_nth_instance_indices(strings, pattern, n)
10: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
11: eval(lhs, parent, parent)
12: eval(lhs, parent, parent)

[31mâ”€â”€[39m [31m14. Failure: TIFFErrorHandler_ works (@test_io.R#143) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
`suppressWarnings(read_tif(tmptxt))` threw an error with unexpected message.
Expected match: "Cannot read TIFF header"
Actual message: "could not find function \"intmat_list_bind_nth_rows\""

[31mâ”€â”€[39m [31m15. Failure: write_tif() errors correctly (@test_io.R#222) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
`read_tif(system.file("img", "bad_ij1.tif", package = "ijtiff"))` threw an error with unexpected message.
Expected match: "The ImageJ-written image you're trying to read says in its TIFFTAG_DESCRIPTION that it has 13 images of 5 slices of 2 channels. However, with 5 slices of 2 channels, one would expect there to be 5x2=10 images. This discrepancy means that the 'ijtiff' package can't read your image correctly. One possible source of this kind of error is that your image is temporal and volumetric. 'ijtiff' can handle either time-based or volumetric stacks, but not both."
Actual message: "could not find function \"intmat_list_bind_nth_rows\""

[31mâ”€â”€[39m [31m16. Failure: write_tif() errors correctly (@test_io.R#233) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
`read_tif(system.file("img", "bad_ij2.tif", package = "ijtiff"))` threw an error with unexpected message.
Expected match: "The ImageJ-written image you're trying to read says it has 8 frames AND 5 slices. To be read by the 'ijtiff' package, the number of slices OR the number of frames should be specified in the description tiff tag \\(and they're interpreted as the same thing\\), but not both."
Actual message: "could not find function \"intmat_list_bind_nth_rows\""

[31mâ”€â”€[39m [31m17. Error: text-image-io works (@test_io.R#249) [39m [31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
could not find function "intmat_list_bind_nth_rows"
1: write_txt_img(mm, tmpfl) at testthat/test_io.R:249
2: msg_paths[i] %<>% filesstrings::str_after_last("/")
3: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: `_fseq`(`_lhs`)
7: freduce(value, `_function_list`)
8: withVisible(function_list[[k]](value))
9: function_list[[k]](value)
10: filesstrings::str_after_last(., "/")
11: str_after_nth(strings = strings, pattern = pattern, n = -1)
12: str_nth_instance_indices(strings, pattern, n)
13: intmat_list_bind_nth_rows(instances, n - 1) %>% magrittr::set_colnames(c("start", "end"))
14: eval(lhs, parent, parent)
15: eval(lhs, parent, parent)

â•â• testthat results  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
OK: 18 SKIPPED: 0 WARNINGS: 0 FAILED: 17
1. Error: `as_EBImage()` works (@test-as_EBImage-examples.R#5) 
2. Error: `count_imgs()` works (@test-count_imgs-examples.R#4) 
3. Error: `read_tags()` works (@test-read_tags-examples.R#5) 
4. Error: display works (@test_graphics.R#4) 
5. Error: Package 2-channel example I/O works (@test_io.R#4) 
6. Error: Package RGB I/O works (@test_io.R#35) 
7. Error: 8-bit unsigned integer TIFF I/O works (@test_io.R#46) 
8. Error: 16-bit unsigned integer TIFF I/O works (@test_io.R#59) 
9. Error: 32-bit unsigned integer TIFF I/O works (@test_io.R#72) 
1. ...

Error: testthat unit tests failed
Execution halted

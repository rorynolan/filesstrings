
R version 4.0.2 (2020-06-22) -- "Taking Off Again"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin17.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(detrendr)
> 
> test_check("detrendr")
[31m──[39m [31m1. Error: best_tau works (@test-best_params.R#4) [39m [31m───────────────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mijtiff::read_tif(...)
[90m  2. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 10. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 11. [39mstrex:::str_match_arg_basic(...)
[90m 12. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m2. Error: best_l works (@test-best_params.R#40) [39m [31m────────────────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mijtiff::read_tif(...)
[90m  2. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 10. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 11. [39mstrex:::str_match_arg_basic(...)
[90m 12. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m3. Error: best_degree works (@test-best_params.R#80) [39m [31m───────────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mijtiff::read_tif(...)
[90m  2. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 10. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 11. [39mstrex:::str_match_arg_basic(...)
[90m 12. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m4. Error: best_swaps() works (@test-best_params.R#109) [39m [31m─────────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mijtiff::read_tif(system.file("extdata", "bleached.tif", package = "detrendr"))
[90m  2. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 10. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 11. [39mstrex:::str_match_arg_basic(...)
[90m 12. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m5. Failure: detrended_img works (@test-class-constructors.R#5) [39m [31m─────────────[39m
`detrended_img(...)` threw an error with unexpected message.
Expected match: "Elements of a detrended_img must all be integers."
Actual message: "argument \"arg_sym\" is missing, with no default"
[1mBacktrace:[22m
[90m  1. [39mtestthat::expect_error(...)
[90m  6. [39mdetrendr::detrended_img(...)
[90m  7. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 15. [39mfilesstrings::match_arg(...)
[90m 16. [39mstrex:::str_match_arg_basic(...)
[90m 17. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m6. Error: detrended_img works (@test-class-constructors.R#14) [39m [31m──────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mtestthat::expect_equal(...)
[90m  4. [39mdetrendr::detrended_img(three_d, "exp", 9, FALSE, purpose = "ff")
[90m  5. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 13. [39mfilesstrings::match_arg(...)
[90m 14. [39mstrex:::str_match_arg_basic(...)
[90m 15. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m7. Error: detrending works (@test-detrend.R#5) [39m [31m─────────────────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mijtiff::read_tif(...)
[90m  2. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 10. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 11. [39mstrex:::str_match_arg_basic(...)
[90m 12. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m8. Error: detrending errors correctly (@test-detrend.R#172) [39m [31m────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mijtiff::read_tif(...)
[90m  2. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 10. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 11. [39mstrex:::str_match_arg_basic(...)
[90m 12. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m9. Error: detrending entire derectories works [39m [31m──────────────────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mpurrr::map(orig_files, ijtiff::read_tif, msg = FALSE)
[90m  2. [39mijtiff:::.f(.x[[i]], ...)
[90m  3. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 11. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 12. [39mstrex:::str_match_arg_basic(...)
[90m 13. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m10. Error: file_detrend() deals with other directories correctly (@test-dir-d[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mdetrendr:::file_detrend(...)
[90m  2. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 10. [39mfilesstrings::match_arg(...)
[90m 11. [39mstrex:::str_match_arg_basic(...)
[90m 12. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m11. Error: sum_pillars() and mean_pillars() work (@test-utils.R#20) [39m [31m────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mbase::system.file("extdata", "bleached.tif", package = "detrendr")
[90m  9. [39mijtiff::read_tif(., msg = FALSE)
[90m 10. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 18. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 19. [39mstrex:::str_match_arg_basic(...)
[90m 20. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m12. Error: sum_frames() and mean_frames() work (@test-utils.R#26) [39m [31m──────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mbase::system.file("extdata", "bleached.tif", package = "detrendr")
[90m  8. [39mijtiff::read_tif(., msg = FALSE)
[90m  9. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 17. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 18. [39mstrex:::str_match_arg_basic(...)
[90m 19. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m13. Error: brightness_cols_given_mean() works (@test-utils.R#40) [39m [31m───────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mbase::system.file("extdata", "bleached.tif", package = "detrendr")
[90m  8. [39mijtiff::read_tif(., msg = FALSE)
[90m  9. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 17. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 18. [39mstrex:::str_match_arg_basic(...)
[90m 19. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m14. Error: var_cols_given_mean() works (@test-utils.R#54) [39m [31m──────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mbase::system.file("extdata", "bleached.tif", package = "detrendr")
[90m  8. [39mijtiff::read_tif(., msg = FALSE)
[90m  9. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 17. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 18. [39mstrex:::str_match_arg_basic(...)
[90m 19. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m15. Error: var_rows_given_mean() works (@test-utils.R#68) [39m [31m──────────────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mbase::system.file("extdata", "bleached.tif", package = "detrendr")
[90m  8. [39mijtiff::read_tif(., msg = FALSE)
[90m  9. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 17. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 18. [39mstrex:::str_match_arg_basic(...)
[90m 19. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

[31m──[39m [31m16. Error: rboxes derivatives error correctly (@test-utils.R#87) [39m [31m───────────[39m
argument "arg_sym" is missing, with no default
[1mBacktrace:[22m
[90m  1. [39mbase::system.file("extdata", "bleached.tif", package = "detrendr")
[90m  8. [39mijtiff::read_tif(., msg = FALSE)
[90m  9. [39m[ `%<>%`(...) ][90m with 7 more calls[39m
[90m 17. [39mfilesstrings::match_arg(., c("error", "warning", "none"), ignore_case = TRUE)
[90m 18. [39mstrex:::str_match_arg_basic(...)
[90m 19. [39mcheckmate::assert_string(arg_sym, na.ok = TRUE)

══ testthat results  ═══════════════════════════════════════════════════════════
[ OK: 47 | SKIPPED: 8 | WARNINGS: 0 | FAILED: 16 ]
1. Error: best_tau works (@test-best_params.R#4) 
2. Error: best_l works (@test-best_params.R#40) 
3. Error: best_degree works (@test-best_params.R#80) 
4. Error: best_swaps() works (@test-best_params.R#109) 
5. Failure: detrended_img works (@test-class-constructors.R#5) 
6. Error: detrended_img works (@test-class-constructors.R#14) 
7. Error: detrending works (@test-detrend.R#5) 
8. Error: detrending errors correctly (@test-detrend.R#172) 
9. Error: detrending entire derectories works 
1. ...

Error: testthat unit tests failed
Execution halted

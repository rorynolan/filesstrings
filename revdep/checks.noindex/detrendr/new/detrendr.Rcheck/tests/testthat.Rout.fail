
R version 3.6.0 (2019-04-26) -- "Planting of a Tree"
Copyright (C) 2019 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin15.6.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(detrendr)
> 
> test_check("detrendr")
[31m──[39m [31m1. Error: best_tau works (@test-best_params.R#4) [39m [31m────────────────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: ijtiff::read_tif(system.file("extdata", "bleached.tif", package = "detrendr"), msg = FALSE) at testthat/test-best_params.R:4
2: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
3: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: `_fseq`(`_lhs`)
7: freduce(value, `_function_list`)
8: withVisible(function_list[[k]](value))
9: function_list[[k]](value)
10: filesstrings::match_arg
11: getExportedValue(pkg, name)
12: asNamespace(ns)
13: getNamespace(ns)
14: loadNamespace(name)
15: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
16: asNamespace(ns)
17: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
18: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m2. Error: best_l works (@test-best_params.R#40) [39m [31m─────────────────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: ijtiff::read_tif(system.file("extdata", "bleached.tif", package = "detrendr"), msg = FALSE) at testthat/test-best_params.R:40
2: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
3: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: `_fseq`(`_lhs`)
7: freduce(value, `_function_list`)
8: withVisible(function_list[[k]](value))
9: function_list[[k]](value)
10: filesstrings::match_arg
11: getExportedValue(pkg, name)
12: asNamespace(ns)
13: getNamespace(ns)
14: loadNamespace(name)
15: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
16: asNamespace(ns)
17: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
18: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m3. Error: best_degree works (@test-best_params.R#81) [39m [31m────────────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: ijtiff::read_tif(system.file("extdata", "bleached.tif", package = "detrendr"), msg = FALSE) at testthat/test-best_params.R:81
2: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
3: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: `_fseq`(`_lhs`)
7: freduce(value, `_function_list`)
8: withVisible(function_list[[k]](value))
9: function_list[[k]](value)
10: filesstrings::match_arg
11: getExportedValue(pkg, name)
12: asNamespace(ns)
13: getNamespace(ns)
14: loadNamespace(name)
15: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
16: asNamespace(ns)
17: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
18: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m4. Error: best_swaps() works (@test-best_params.R#113) [39m [31m──────────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: ijtiff::read_tif(system.file("extdata", "bleached.tif", package = "detrendr")) at testthat/test-best_params.R:113
2: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
3: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: `_fseq`(`_lhs`)
7: freduce(value, `_function_list`)
8: withVisible(function_list[[k]](value))
9: function_list[[k]](value)
10: filesstrings::match_arg
11: getExportedValue(pkg, name)
12: asNamespace(ns)
13: getNamespace(ns)
14: loadNamespace(name)
15: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
16: asNamespace(ns)
17: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
18: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m5. Failure: detrended_img works (@test-class-constructors.R#5) [39m [31m──────────────────────────────[39m
`detrended_img(...)` threw an error with unexpected message.
Expected match: "Elements of a detrended_img must all be integers."
Actual message: "namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required"

[31m──[39m [31m6. Error: detrended_img works (@test-class-constructors.R#14) [39m [31m───────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: expect_equal(detrended_img(three_d, "exp", 9, FALSE, purpose = "ff"), detrended_img(four_d, "exp", 
       9, FALSE, purpose = "ff")) at testthat/test-class-constructors.R:14
2: quasi_label(enquo(object), label, arg = "object")
3: eval_bare(get_expr(quo), get_env(quo))
4: detrended_img(three_d, "exp", 9, FALSE, purpose = "ff")
5: method %<>% filesstrings::match_arg(c("boxcar", "exponential", "polynomial", "rh", "robinhood"), ignore_case = TRUE)
6: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
7: eval(quote(`_fseq`(`_lhs`)), env, env)
8: eval(quote(`_fseq`(`_lhs`)), env, env)
9: `_fseq`(`_lhs`)
10: freduce(value, `_function_list`)
11: withVisible(function_list[[k]](value))
12: function_list[[k]](value)
13: filesstrings::match_arg
14: getExportedValue(pkg, name)
15: asNamespace(ns)
16: getNamespace(ns)
17: loadNamespace(name)
18: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
19: asNamespace(ns)
20: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
21: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m7. Error: detrending works (@test-detrend.R#4) [39m [31m──────────────────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: ijtiff::read_tif(system.file("extdata", "bleached.tif", package = "detrendr"), msg = FALSE) at testthat/test-detrend.R:4
2: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
3: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: `_fseq`(`_lhs`)
7: freduce(value, `_function_list`)
8: withVisible(function_list[[k]](value))
9: function_list[[k]](value)
10: filesstrings::match_arg
11: getExportedValue(pkg, name)
12: asNamespace(ns)
13: getNamespace(ns)
14: loadNamespace(name)
15: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
16: asNamespace(ns)
17: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
18: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m8. Error: detrending errors correctly (@test-detrend.R#171) [39m [31m─────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: ijtiff::read_tif(system.file("extdata", "bleached.tif", package = "detrendr"), msg = FALSE) at testthat/test-detrend.R:171
2: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
3: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: `_fseq`(`_lhs`)
7: freduce(value, `_function_list`)
8: withVisible(function_list[[k]](value))
9: function_list[[k]](value)
10: filesstrings::match_arg
11: getExportedValue(pkg, name)
12: asNamespace(ns)
13: getNamespace(ns)
14: loadNamespace(name)
15: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
16: asNamespace(ns)
17: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
18: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m9. Error: detrending entire derectories works (@test-dir-detrend.R#11) [39m [31m──────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: purrr::map(orig_files, ijtiff::read_tif, msg = FALSE) at testthat/test-dir-detrend.R:11
2: .f(.x[[i]], ...)
3: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
4: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
5: eval(quote(`_fseq`(`_lhs`)), env, env)
6: eval(quote(`_fseq`(`_lhs`)), env, env)
7: `_fseq`(`_lhs`)
8: freduce(value, `_function_list`)
9: withVisible(function_list[[k]](value))
10: function_list[[k]](value)
11: filesstrings::match_arg
12: getExportedValue(pkg, name)
13: asNamespace(ns)
14: getNamespace(ns)
15: loadNamespace(name)
16: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
17: asNamespace(ns)
18: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
19: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m10. Error: file_detrend() deals with other directories correctly (@test-dir-detrend.R#242) [39m [31m──[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: filesstrings::create_dir at testthat/test-dir-detrend.R:242
2: getExportedValue(pkg, name)
3: asNamespace(ns)
4: getNamespace(ns)
5: loadNamespace(name)
6: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
7: asNamespace(ns)
8: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
9: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m11. Error: sum_pillars() and mean_pillars() work (@test-utils.R#20) [39m [31m─────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: system.file("extdata", "bleached.tif", package = "detrendr") %>% ijtiff::read_tif(msg = FALSE) at testthat/test-utils.R:20
2: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
3: eval(quote(`_fseq`(`_lhs`)), env, env)
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: `_fseq`(`_lhs`)
6: freduce(value, `_function_list`)
7: withVisible(function_list[[k]](value))
8: function_list[[k]](value)
9: ijtiff::read_tif(., msg = FALSE)
10: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
...
17: function_list[[k]](value)
18: filesstrings::match_arg
19: getExportedValue(pkg, name)
20: asNamespace(ns)
21: getNamespace(ns)
22: loadNamespace(name)
23: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
24: asNamespace(ns)
25: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
26: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m12. Error: sum_frames() and mean_frames() work (@test-utils.R#26) [39m [31m───────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: system.file("extdata", "bleached.tif", package = "detrendr") %>% ijtiff::read_tif(msg = FALSE) %>% 
       {
           .[, , 1, ]
       } at testthat/test-utils.R:26
2: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
3: eval(quote(`_fseq`(`_lhs`)), env, env)
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: `_fseq`(`_lhs`)
6: freduce(value, `_function_list`)
7: function_list[[i]](value)
8: ijtiff::read_tif(., msg = FALSE)
9: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
10: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
...
16: function_list[[k]](value)
17: filesstrings::match_arg
18: getExportedValue(pkg, name)
19: asNamespace(ns)
20: getNamespace(ns)
21: loadNamespace(name)
22: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
23: asNamespace(ns)
24: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
25: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m13. Error: brightness_cols_given_mean() works (@test-utils.R#40) [39m [31m────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: system.file("extdata", "bleached.tif", package = "detrendr") %>% ijtiff::read_tif(msg = FALSE) %>% 
       {
           .[, , 1, 1]
       } at testthat/test-utils.R:40
2: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
3: eval(quote(`_fseq`(`_lhs`)), env, env)
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: `_fseq`(`_lhs`)
6: freduce(value, `_function_list`)
7: function_list[[i]](value)
8: ijtiff::read_tif(., msg = FALSE)
9: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
10: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
...
16: function_list[[k]](value)
17: filesstrings::match_arg
18: getExportedValue(pkg, name)
19: asNamespace(ns)
20: getNamespace(ns)
21: loadNamespace(name)
22: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
23: asNamespace(ns)
24: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
25: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m14. Error: var_cols_given_mean() works (@test-utils.R#54) [39m [31m───────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: system.file("extdata", "bleached.tif", package = "detrendr") %>% ijtiff::read_tif(msg = FALSE) %>% 
       {
           .[, , 1, 1]
       } at testthat/test-utils.R:54
2: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
3: eval(quote(`_fseq`(`_lhs`)), env, env)
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: `_fseq`(`_lhs`)
6: freduce(value, `_function_list`)
7: function_list[[i]](value)
8: ijtiff::read_tif(., msg = FALSE)
9: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
10: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
...
16: function_list[[k]](value)
17: filesstrings::match_arg
18: getExportedValue(pkg, name)
19: asNamespace(ns)
20: getNamespace(ns)
21: loadNamespace(name)
22: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
23: asNamespace(ns)
24: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
25: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m15. Error: var_rows_given_mean() works (@test-utils.R#68) [39m [31m───────────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: system.file("extdata", "bleached.tif", package = "detrendr") %>% ijtiff::read_tif(msg = FALSE) %>% 
       {
           .[, , 1, 1]
       } at testthat/test-utils.R:68
2: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
3: eval(quote(`_fseq`(`_lhs`)), env, env)
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: `_fseq`(`_lhs`)
6: freduce(value, `_function_list`)
7: function_list[[i]](value)
8: ijtiff::read_tif(., msg = FALSE)
9: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
10: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
...
16: function_list[[k]](value)
17: filesstrings::match_arg
18: getExportedValue(pkg, name)
19: asNamespace(ns)
20: getNamespace(ns)
21: loadNamespace(name)
22: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
23: asNamespace(ns)
24: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
25: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

[31m──[39m [31m16. Error: rboxes derivatives error correctly (@test-utils.R#87) [39m [31m────────────────────────────[39m
namespace 'strex' 1.1.0 is being loaded, but >= 1.1.1 is required
1: system.file("extdata", "bleached.tif", package = "detrendr") %>% ijtiff::read_tif(msg = FALSE) %>% 
       {
           .[, , 1, ]
       } at testthat/test-utils.R:87
2: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
3: eval(quote(`_fseq`(`_lhs`)), env, env)
4: eval(quote(`_fseq`(`_lhs`)), env, env)
5: `_fseq`(`_lhs`)
6: freduce(value, `_function_list`)
7: function_list[[i]](value)
8: ijtiff::read_tif(., msg = FALSE)
9: list_safety %<>% filesstrings::match_arg(c("error", "warning", "none"), ignore_case = TRUE)
10: withVisible(eval(quote(`_fseq`(`_lhs`)), env, env))
...
16: function_list[[k]](value)
17: filesstrings::match_arg
18: getExportedValue(pkg, name)
19: asNamespace(ns)
20: getNamespace(ns)
21: loadNamespace(name)
22: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]), 
       i[[2L]], from = package)
23: asNamespace(ns)
24: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]])
25: stop(gettextf("namespace %s %s is being loaded, but %s %s is required", sQuote(package), version, 
       zop, zversion), domain = NA)

══ testthat results  ════════════════════════════════════════════════════════════════════════════
OK: 52 SKIPPED: 8 WARNINGS: 0 FAILED: 16
1. Error: best_tau works (@test-best_params.R#4) 
2. Error: best_l works (@test-best_params.R#40) 
3. Error: best_degree works (@test-best_params.R#81) 
4. Error: best_swaps() works (@test-best_params.R#113) 
5. Failure: detrended_img works (@test-class-constructors.R#5) 
6. Error: detrended_img works (@test-class-constructors.R#14) 
7. Error: detrending works (@test-detrend.R#4) 
8. Error: detrending errors correctly (@test-detrend.R#171) 
9. Error: detrending entire derectories works (@test-dir-detrend.R#11) 
1. ...

Error: testthat unit tests failed
Execution halted

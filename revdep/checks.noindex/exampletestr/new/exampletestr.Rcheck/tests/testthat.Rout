
R version 4.0.2 (2020-06-22) -- "Taking Off Again"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin17.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(exampletestr)
> 
> get_os <- function() {
+   sysinf <- Sys.info()
+   if (!is.null(sysinf)) {
+     os <- sysinf["sysname"]
+     if (os == "Darwin") {
+       os <- "osx"
+     }
+   } else { ## mystery machine
+     os <- .Platform$OS.type
+     if (grepl("^darwin", R.version$os)) {
+       os <- "osx"
+     }
+     if (grepl("linux-gnu", R.version$os)) {
+       os <- "linux"
+     }
+   }
+   if (os == "osx") os <- "mac"
+   tolower(os)
+ }
> 
> if (get_os() != "mac" || Sys.getenv("NOT_CRAN") == "true")
+   test_check("exampletestr")
══ testthat results  ═══════════════════════════════════════════════════════════
[ OK: 28 | SKIPPED: 0 | WARNINGS: 0 | FAILED: 0 ]
> 
> proc.time()
   user  system elapsed 
 15.331   1.078  19.118 
